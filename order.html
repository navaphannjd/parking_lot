<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏à‡∏≠‡∏î‡∏£‡∏ñ</title>
    <link rel="stylesheet" href="sidebar.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: white;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Top Bar */
        .topbar {
            position: sticky;
            top: 0;
            background: white;
            padding: 15px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            z-index: 100;
        }

        .hamburger {
            width: 30px;
            height: 25px;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            transition: all 0.3s;
        }

        .hamburger span {
            width: 100%;
            height: 3px;
            background: #667eea;
            border-radius: 3px;
            transition: all 0.3s;
        }

        .hamburger.active span:nth-child(1) {
            transform: rotate(45deg) translate(8px, 8px);
        }

        .hamburger.active span:nth-child(2) {
            opacity: 0;
        }

        .hamburger.active span:nth-child(3) {
            transform: rotate(-45deg) translate(8px, -8px);
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 15px;
            cursor: pointer;
            padding: 8px 15px;
            border-radius: 25px;
            transition: all 0.3s;
        }

        .user-profile:hover {
            background: #f8f9fa;
        }

        .user-avatar {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
            font-size: 18px;
        }

        .user-info {
            display: flex;
            flex-direction: column;
        }

        .user-name {
            font-weight: 600;
            color: #333;
            font-size: 15px;
        }

        .user-role {
            font-size: 12px;
            color: #666;
        }

        /* Dropdown Menu */
        .dropdown {
            position: relative;
        }

        .dropdown-menu {
            position: absolute;
            top: 60px;
            right: 0;
            background: white;
            border-radius: 12px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
            min-width: 200px;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s;
        }

        .dropdown-menu.active {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .dropdown-item {
            padding: 12px 20px;
            color: #333;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s;
            cursor: pointer;
        }

        .dropdown-item:first-child {
            border-radius: 12px 12px 0 0;
        }

        .dropdown-item:last-child {
            border-radius: 0 0 12px 12px;
            border-top: 1px solid #e9ecef;
            color: #dc3545;
        }

        .dropdown-item:hover {
            background: #f8f9fa;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .page-header {
            background: white;
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .page-header h1 {
            color: #667eea;
            font-size: 2em;
            margin-bottom: 10px;
        }

        .page-header p {
            color: #666;
        }

        .content {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .search-bar {
            margin-bottom: 20px;
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .search-input {
            flex: 1;
            padding: 12px 20px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 16px;
        }

        .filter-select {
            padding: 12px 20px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
        }

        .table-container {
            overflow-x: auto;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
        }

        thead {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        th {
            padding: 15px;
            text-align: left;
            font-weight: 600;
            font-size: 14px;
            text-transform: uppercase;
        }

        td {
            padding: 15px;
            border-bottom: 1px solid #e9ecef;
        }

        tbody tr {
            transition: all 0.3s;
        }


        .status-badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            display: inline-block;
        }

        .status-available {
            background: #fff3cd;
            color: #856404;
        }

        .status-booked {
            background: #ffcdcd;
            color: #850404;
        }

        .status-paid {
            background: #d1ecf1;
            color: #0c5460;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        .modal.active {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background-color: white;
            border-radius: 20px;
            padding: 0;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            animation: slideUp 0.3s;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
        }

        @keyframes slideUp {
            from {
                transform: translateY(50px);
                opacity: 0;
            }

            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .modal-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px 30px;
            border-radius: 20px 20px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h2 {
            margin: 0;
            font-size: 24px;
        }

        .close-btn {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            font-size: 28px;
            cursor: pointer;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .close-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: rotate(90deg);
        }

        .modal-body {
            padding: 30px;
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s;
        }

        .form-control:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 600;
            font-size: 14px;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .form-group input:disabled {
            background-color: #f8f9fa;
            cursor: not-allowed;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .modal-footer {
            padding: 20px 30px;
            border-top: 1px solid #e9ecef;
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }

        .btn-add {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s;
            white-space: nowrap;
        }

        .btn-add:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .btn-save {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s;
        }

        .btn-save:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .btn-cancel {
            background: #6c757d;
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s;
        }

        .btn-cancel:hover {
            background: #5a6268;
        }

        .btn-filter {
            background: white;
            color: #667eea;
            padding: 12px;
            border: 2px solid #667eea;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            min-width: 48px;
            height: 48px;
        }

        .btn-filter:hover {
            background: #667eea;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .btn-filter.active {
            background: #667eea;
            color: white;
        }

        /* Responsive Design for Mobile */
        @media screen and (max-width: 768px) {
            .topbar {
                padding: 12px 15px;
            }

            .user-info {
                display: none;
            }

            .user-avatar {
                width: 40px;
                height: 40px;
                font-size: 16px;
            }

            .container {
                padding: 15px;
            }

            .page-header {
                padding: 20px;
                margin-bottom: 15px;
            }

            .page-header h1 {
                font-size: 1.5em;
            }

            .content {
                padding: 20px;
            }

            .search-bar {
                flex-wrap: wrap;
                /* ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏à‡∏≤‡∏Å flex-direction: column */
            }

            .search-input {
                flex: 1 1 100%;
                /* ‡πÉ‡∏´‡πâ search input ‡∏≠‡∏¢‡∏π‡πà‡∏Ñ‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÅ‡∏£‡∏Å */
                min-width: 100%;
            }

            .filter-select {
                flex: 1;
                /* ‡πÉ‡∏´‡πâ dropdown ‡∏¢‡∏∑‡∏î‡∏ï‡∏≤‡∏°‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà */
                min-width: 0;
                /* ‡∏•‡∏ö min-width ‡πÄ‡∏î‡∏¥‡∏° */
            }

            /* ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ã‡πâ‡∏≤‡∏¢‡∏Ç‡∏ß‡∏≤‡πÑ‡∏î‡πâ */
            .table-container {
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
            }

            table {
                min-width: 800px;
            }

            th,
            td {
                white-space: nowrap;
                font-size: 14px;
                padding: 12px;
            }

            /* Modal ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ */
            .modal-content {
                width: 95%;
                max-height: 85vh;
            }

            .modal-header {
                padding: 20px;
            }

            .modal-header h2 {
                font-size: 20px;
            }

            .modal-body {
                padding: 20px;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .modal-footer {
                padding: 15px 20px;
                flex-direction: column;
            }

            .btn-save,
            .btn-cancel {
                width: 100%;
            }

            .btn-add {
                padding: 12px 16px;
                font-size: 14px;
            }

            /* Sidebar ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ */
            .sidebar {
                width: 250px;
                left: -250px;
            }

            .dropdown-menu {
                right: -10px;
            }
        }

        @media screen and (max-width: 480px) {
            .page-header h1 {
                font-size: 1.3em;
            }

            .modal-header h2 {
                font-size: 18px;
            }

            .sidebar {
                width: 220px;
                left: -220px;
            }

            th,
            td {
                font-size: 13px;
                padding: 10px;
            }
        }
    </style>
</head>

<body>

    <!-- Top Bar -->
    <div class="topbar">
        <div class="hamburger" id="hamburger">
            <span></span>
            <span></span>
            <span></span>
        </div>

        <div class="dropdown">
            <div class="user-profile" id="userProfile">
                <div class="user-info">
                    <div class="user-name">‡∏™‡∏°‡∏ä‡∏≤‡∏¢ ‡πÉ‡∏à‡∏î‡∏µ</div>
                    <div class="user-role">‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö</div>
                </div>
                <div class="user-avatar">SC</div>
            </div>
            <div class="dropdown-menu" id="dropdownMenu">
                <div class="dropdown-item">
                    <span>üë§</span>
                    <span>‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå</span>
                </div>
                <div class="dropdown-item">
                    <span>üîî</span>
                    <span>‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô</span>
                </div>
                <div class="dropdown-item">
                    <span>‚öôÔ∏è</span>
                    <span>‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ö‡∏±‡∏ç‡∏ä‡∏µ</span>
                </div>
                <div class="dropdown-item">
                    <span>üö™</span>
                    <span>‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="container">
        <div class="page-header">
            <h1>üöó Order</h1>
        </div>

        <div class="content">

            <div class="search-bar">
                <input type="text" class="search-input" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏à‡∏≠‡∏î, ‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏à‡∏≠‡∏á..." id="searchInput">
                <button class="btn-filter" id="filterBtn" title="‡∏Å‡∏£‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round">
                        <polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon>
                    </svg>
                </button>
                <button class="btn-add" id="addBtn">
                    <span style="font-size: 20px; font-weight: bold;">+</span>
                </button>
            </div>

            <div class="table-container">
                <table id="parkingTable">
                    <thead>
                        <tr>
                            <th>Order No</th>
                            <th>Item Name</th>
                            <th>Client Name</th>
                            <th>Start Date</th>
                            <th>Valid Date</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody id="tableBody">
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Modal -->
    <div id="detailModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">üöó Add Item</h2>
                <button class="close-btn" id="closeModal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="parkingForm">
                    <div class="form-group">
                        <label>Item Name</label>
                        <input type="text" id="modalSlotName" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠ Item" required>
                    </div>

                    <div class="form-group">
                        <label>Client Name, Client Surname</label>
                        <input type="text" id="modalName" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•" required>
                    </div>

                    <div class="form-group">
                        <label>Note</label>
                        <input type="text" id="modalPlate" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏Å‡∏Å-1234" required>
                    </div>

                    <div class="form-group">
                        <label>Fee</label>
                        <input type="number" id="modalPrice" min="0" step="100" placeholder="2000" required>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label>Paid Amount</label>
                            <input type="number" id="modalPaid" min="0" step="100" value="0" disabled>
                        </div>

                        <div class="form-group">
                            <label>Paid Date</label>
                            <input type="date" id="modalPayDate" disabled>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Start Date</label>
                        <div class="form-row">
                            <div class="form-group" style="margin-bottom: 0;">
                                <label style="font-size: 13px; color: #666;">From</label>
                                <input type="date" id="modalBookDateFrom" required>
                            </div>
                            <div class="form-group" style="margin-bottom: 0;">
                                <label style="font-size: 13px; color: #666;">To</label>
                                <input type="date" id="modalBookDateTo" required>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn-save" id="saveBtn">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
            </div>
        </div>
    </div>

    <!-- Modal ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏£‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• -->
    <div id="filterModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üîç ‡∏Å‡∏£‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</h2>
                <button class="close-btn" id="closeFilterModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏î‡∏∑‡∏≠‡∏ô-‡∏õ‡∏µ</label>
                    <input type="month" id="filterMonth" class="form-control" placeholder="‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÅ‡∏•‡∏∞‡∏õ‡∏µ">
                </div>

                <div class="form-group">
                    <label>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</label>
                    <select id="filterStatus" class="form-control">
                        <option value="all">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>
                        <option value="available">‡∏ß‡πà‡∏≤‡∏á</option>
                        <option value="booked">‡∏£‡∏≠‡∏ä‡∏≥‡∏£‡∏∞</option>
                        <option value="paid">‡∏ä‡∏≥‡∏£‡∏∞‡πÅ‡∏•‡πâ‡∏ß</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn-cancel" id="clearFilterBtn">‡∏•‡πâ‡∏≤‡∏á‡∏ï‡∏±‡∏ß‡∏Å‡∏£‡∏≠‡∏á</button>
                <button type="button" class="btn-save" id="applyFilterBtn">‡πÉ‡∏ä‡πâ‡∏ï‡∏±‡∏ß‡∏Å‡∏£‡∏≠‡∏á</button>
            </div>
        </div>
    </div>

    <script src="sidebar.js"></script>

    <script>
        // User Profile Dropdown
        const userProfile = document.getElementById('userProfile');
        const dropdownMenu = document.getElementById('dropdownMenu');

        userProfile.addEventListener('click', (e) => {
            e.stopPropagation();
            dropdownMenu.classList.toggle('active');
        });

        document.addEventListener('click', (e) => {
            if (!userProfile.contains(e.target)) {
                dropdownMenu.classList.remove('active');
            }
        });

        // Parking Data
        const parkingData = [
            {
                slot: 1,
                slotName: "Slot 10",
                status: "paid",
                name: "‡∏™‡∏°‡∏ä‡∏≤‡∏¢ ‡πÉ‡∏à‡∏î‡∏µ",
                plate: "‡∏™‡πà‡∏á‡∏Ç‡∏≠‡∏á‡πÉ‡∏´‡πâ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø",
                price: 45000,
                paid: 45000,
                payDate: "2026-01-15",
                bookDate: "2026-01-10",
                expDate: "2026-01-20"
            },
            {
                slot: 2,
                slotName: "Slot 4",
                status: "booked",
                name: "‡∏™‡∏°‡∏´‡∏ç‡∏¥‡∏á ‡∏£‡∏±‡∏Å‡∏î‡∏µ",
                plate: "‡∏£‡∏≠‡∏£‡∏±‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏à‡∏≤‡∏Å‡∏ã‡∏±‡∏û‡∏û‡∏•‡∏≤‡∏¢‡πÄ‡∏≠‡∏≠‡∏£‡πå",
                price: 52000,
                paid: 0,
                payDate: "-",
                bookDate: "2026-01-12",
                expDate: "2026-01-25"
            },
            {
                slot: 3,
                slotName: "Slot 16",
                status: "paid",
                name: "‡∏ß‡∏¥‡∏ä‡∏±‡∏¢ ‡∏™‡∏∏‡∏Ç‡πÉ‡∏à",
                plate: "‡∏à‡∏±‡∏î‡∏™‡πà‡∏á‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ä‡∏±‡πâ‡∏ô 15",
                price: 25000,
                paid: 25000,
                payDate: "2026-01-14",
                bookDate: "2026-01-08",
                expDate: "2026-01-18"
            },
            {
                slot: 4,
                slotName: "Slot 30",
                status: "booked",
                name: "‡∏ô‡∏†‡∏≤ ‡πÅ‡∏™‡∏á‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå",
                plate: "‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ß‡πâ‡πÉ‡∏ô‡∏Ñ‡∏•‡∏±‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ A",
                price: 35000,
                paid: 0,
                payDate: "-",
                bookDate: "2026-01-16",
                expDate: "2026-01-28"
            },
            {
                slot: 5,
                slotName: "Slot 27",
                status: "paid",
                name: "‡∏ò‡∏ô‡∏û‡∏• ‡∏ß‡∏á‡∏®‡πå‡∏ó‡∏≠‡∏á",
                plate: "‡∏™‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏Å‡πà‡∏≠‡∏ô 17:00",
                price: 8500,
                paid: 8500,
                payDate: "2026-01-17",
                bookDate: "2026-01-15",
                expDate: "2026-01-20"
            },
            {
                slot: 6,
                slotName: "Slot 7",
                status: "booked",
                name: "‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤ ‡∏°‡∏µ‡∏™‡∏∏‡∏Ç",
                plate: "‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡∏™‡πà‡∏á",
                price: 42000,
                paid: 21000,
                payDate: "2026-01-13",
                bookDate: "2026-01-11",
                expDate: "2026-01-22"
            },
            {
                slot: 7,
                slotName: "Slot 5",
                status: "paid",
                name: "‡∏ä‡∏ô‡∏¥‡∏î‡∏≤ ‡∏ö‡∏∏‡∏ç‡∏°‡∏µ",
                plate: "‡∏´‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏≤‡∏£‡πå‡∏î",
                price: 13500,
                paid: 13500,
                payDate: "2026-01-16",
                bookDate: "2026-01-14",
                expDate: "2026-01-19"
            },
            {
                slot: 8,
                slotName: "Slot 19",
                status: "booked",
                name: "‡∏†‡∏π‡∏°‡∏¥ ‡πÉ‡∏à‡∏Å‡∏•‡πâ‡∏≤",
                plate: "‡∏£‡∏≠‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏à‡∏≤‡∏Å‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤",
                price: 32000,
                paid: 0,
                payDate: "-",
                bookDate: "2026-01-17",
                expDate: "2026-01-30"
            },
            {
                slot: 9,
                slotName: "Slot 14",
                status: "paid",
                name: "‡∏™‡∏∏‡∏†‡∏≤‡∏û‡∏£ ‡∏î‡∏µ‡∏á‡∏≤‡∏°",
                plate: "‡∏à‡∏±‡∏î‡∏™‡πà‡∏á‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡πÄ‡∏™‡∏£‡∏¥‡∏°",
                price: 85000,
                paid: 85000,
                payDate: "2026-01-12",
                bookDate: "2026-01-09",
                expDate: "2026-01-21"
            },
            {
                slot: 10,
                slotName: "Slot 10",
                status: "booked",
                name: "‡∏Å‡∏§‡∏©‡∏ì‡∏∞ ‡∏ß‡∏µ‡∏£‡∏∞‡∏ä‡∏±‡∏¢",
                plate: "Pre-order ‡∏£‡∏≠‡∏Ç‡∏≠‡∏á‡πÄ‡∏Ç‡πâ‡∏≤ 20 ‡∏°.‡∏Ñ.",
                price: 12500,
                paid: 6250,
                payDate: "2026-01-15",
                bookDate: "2026-01-13",
                expDate: "2026-01-25"
            }
        ];

        let isEditMode = false; // ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡πÇ‡∏´‡∏°‡∏î‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà
        let currentEditSlot = null;

        function renderTable(data) {
            const tbody = document.getElementById('tableBody');
            tbody.innerHTML = '';

            data.forEach(item => {
                const row = document.createElement('tr');

                const statusClass = item.status === 'available' ? 'status-available' :
                    item.status === 'booked' ? 'status-booked' : 'status-paid';
                const statusText = item.status === 'available' ? '‡∏ß‡πà‡∏≤‡∏á' :
                    item.status === 'booked' ? '‡∏£‡∏≠‡∏ä‡∏≥‡∏£‡∏∞' : '‡∏ä‡∏≥‡∏£‡∏∞‡πÅ‡∏•‡πâ‡∏ß';

                row.innerHTML = `
                    <td><strong>${item.slot}</strong></td>
                    <td>${item.slotName}</td>
                    <td>${item.name}</td>
                    <td>${item.bookDate}</td>
                    <td>${item.expDate}</td>
                    <td><span class="status-badge ${statusClass}">${statusText}</span></td>
                `;

                tbody.appendChild(row);
            });

            updateStats(data);
        }

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏õ‡∏¥‡∏î Modal ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡∏°‡πà
        function openAddModal() {
            isEditMode = false;
            currentEditSlot = null;
            const modal = document.getElementById('detailModal');

            // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ Modal
            document.getElementById('modalTitle').textContent = 'üöó ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏à‡∏≠‡∏î‡∏£‡∏ñ';

            // ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏ü‡∏≠‡∏£‡πå‡∏°
            document.getElementById('parkingForm').reset();

            // ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏£‡∏≤‡∏Ñ‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
            document.getElementById('modalPrice').value = 2000;
            document.getElementById('modalPaid').value = 0;

            // ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ó‡∏∏‡∏Å input
            enableAllInputs();

            modal.classList.add('active');
        }

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ó‡∏∏‡∏Å input
        function enableAllInputs() {
            document.getElementById('modalSlotName').disabled = false;
            document.getElementById('modalName').disabled = false;
            document.getElementById('modalPlate').disabled = false;
            document.getElementById('modalPrice').disabled = false;
            document.getElementById('modalBookDateFrom').disabled = false;
            document.getElementById('modalBookDateTo').disabled = false;
        }

        function closeModal() {
            document.getElementById('detailModal').classList.remove('active');
            isEditMode = false;
            currentEditSlot = null;
        }

        function saveChanges() {
            const slotName = document.getElementById('modalSlotName').value.trim();
            const name = document.getElementById('modalName').value.trim();
            const plate = document.getElementById('modalPlate').value.trim();
            const price = parseInt(document.getElementById('modalPrice').value);
            const paid = parseInt(document.getElementById('modalPaid').value) || 0;
            const payDate = document.getElementById('modalPayDate').value || '-';
            const bookDateFrom = document.getElementById('modalBookDateFrom').value;
            const bookDateTo = document.getElementById('modalBookDateTo').value;

            // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö
            if (!slotName || !name || !plate || !price || !bookDateFrom || !bookDateTo) {
                alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô (Slot Name, ‡∏ä‡∏∑‡πà‡∏≠, ‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô, ‡∏Ñ‡πà‡∏≤‡πÄ‡∏ä‡πà‡∏≤, ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏≠‡∏á)');
                return;
            }

            // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà
            if (new Date(bookDateTo) < new Date(bookDateFrom)) {
                alert('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ö‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô');
                return;
            }

            // ‡∏Å‡∏≥‡∏´‡∏ô‡∏î status
            let status = 'booked'; // ‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
            if (paid > 0 && paid >= price) {
                status = 'paid';
            } else if (paid === 0) {
                status = 'booked';
            }

            // ‡∏´‡∏≤ slot number ‡∏ó‡∏µ‡πà‡∏ß‡πà‡∏≤‡∏á (‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡∏°‡πà)
            let newSlotNumber = 1;
            const usedSlots = parkingData.map(item => item.slot).sort((a, b) => a - b);

            // ‡∏´‡∏≤ slot ‡∏ó‡∏µ‡πà‡∏ß‡πà‡∏≤‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ slot ‡∏ñ‡∏±‡∏î‡πÑ‡∏õ
            for (let i = 0; i < usedSlots.length; i++) {
                if (usedSlots[i] !== i + 1) {
                    newSlotNumber = i + 1;
                    break;
                }
            }
            if (newSlotNumber === 1 && usedSlots.length > 0) {
                newSlotNumber = usedSlots[usedSlots.length - 1] + 1;
            }

            // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡∏°‡πà
            const newData = {
                slot: newSlotNumber,
                slotName: slotName,
                status: status,
                name: name,
                plate: plate,
                price: price,
                paid: paid,
                payDate: payDate,
                bookDate: bookDateFrom,
                expDate: bookDateTo
            };

            // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡∏°‡πà
            parkingData.push(newData);

            // ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏≤‡∏° slot number
            parkingData.sort((a, b) => a.slot - b.slot);

            // ‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏ï‡∏≤‡∏£‡∏≤‡∏á
            filterData();

            // ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
            alert('‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß');

            closeModal();
        }

        // Event Listeners ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Modal
        document.getElementById('closeModal').addEventListener('click', closeModal);
        document.getElementById('saveBtn').addEventListener('click', saveChanges);

        // Event Listener ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏õ‡∏∏‡πà‡∏° +
        document.getElementById('addBtn').addEventListener('click', openAddModal);

        // ‡∏õ‡∏¥‡∏î modal ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ô‡∏≠‡∏Å modal content
        document.getElementById('detailModal').addEventListener('click', (e) => {
            if (e.target.id === 'detailModal') {
                closeModal();
            }
        });

        function updateStats(data) {
            const available = data.filter(d => d.status === 'available').length;
            const booked = data.filter(d => d.status === 'booked').length;
            const paid = data.filter(d => d.status === 'paid').length;

            const availableEl = document.getElementById('availableCount');
            const bookedEl = document.getElementById('bookedCount');
            const paidEl = document.getElementById('paidCount');

            if (availableEl) availableEl.textContent = available;
            if (bookedEl) bookedEl.textContent = booked;
            if (paidEl) paidEl.textContent = paid;
        }

        // ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÄ‡∏Å‡πá‡∏ö‡∏Ñ‡πà‡∏≤ filter
        let currentFilters = {
            monthYear: '', // ‡πÄ‡∏Å‡πá‡∏ö‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö YYYY-MM
            status: 'all'
        };

        function filterData() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();

            let filtered = parkingData;

            // ‡∏Å‡∏£‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
            if (currentFilters.status !== 'all') {
                filtered = filtered.filter(item => item.status === currentFilters.status);
            }

            // ‡∏Å‡∏£‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡πÄ‡∏î‡∏∑‡∏≠‡∏ô-‡∏õ‡∏µ
            if (currentFilters.monthYear) {
                filtered = filtered.filter(item => {
                    if (item.payDate === '-') return false;

                    // ‡πÅ‡∏õ‡∏•‡∏á payDate (YYYY-MM-DD) ‡πÄ‡∏õ‡πá‡∏ô YYYY-MM ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö
                    const payMonthYear = item.payDate.substring(0, 7); // ‡πÄ‡∏≠‡∏≤‡πÅ‡∏Ñ‡πà YYYY-MM

                    return payMonthYear === currentFilters.monthYear;
                });
            }

            // ‡∏Å‡∏£‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡∏Ñ‡∏≥‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤
            if (searchTerm) {
                filtered = filtered.filter(item =>
                    item.slot.toString().includes(searchTerm) ||
                    item.name.toLowerCase().includes(searchTerm)
                );
            }

            renderTable(filtered);
            updateFilterButton();
        }

        function updateFilterButton() {
            const filterBtn = document.getElementById('filterBtn');
            const hasActiveFilter = currentFilters.monthYear !== '' ||
                currentFilters.status !== 'all';

            if (hasActiveFilter) {
                filterBtn.classList.add('active');
            } else {
                filterBtn.classList.remove('active');
            }
        }

        // ‡πÄ‡∏õ‡∏¥‡∏î Filter Modal
        function openFilterModal() {
            const modal = document.getElementById('filterModal');

            // ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏≠‡∏á ‡πÉ‡∏´‡πâ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ default ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô-‡∏õ‡∏µ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
            if (!currentFilters.monthYear) {
                const today = new Date();
                const year = today.getFullYear();
                const month = String(today.getMonth() + 1).padStart(2, '0'); // ‡πÄ‡∏ï‡∏¥‡∏° 0 ‡∏Ç‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏•‡∏Ç‡∏´‡∏•‡∏±‡∏Å‡πÄ‡∏î‡∏µ‡∏¢‡∏ß
                const currentMonthYear = `${year}-${month}`; // ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö YYYY-MM

                document.getElementById('filterMonth').value = currentMonthYear;
            } else {
                // ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏à‡∏≤‡∏Å current filters
                document.getElementById('filterMonth').value = currentFilters.monthYear;
            }

            document.getElementById('filterStatus').value = currentFilters.status;

            modal.classList.add('active');
        }

        // ‡∏õ‡∏¥‡∏î Filter Modal
        function closeFilterModal() {
            document.getElementById('filterModal').classList.remove('active');
        }

        // ‡πÉ‡∏ä‡πâ‡∏ï‡∏±‡∏ß‡∏Å‡∏£‡∏≠‡∏á
        function applyFilter() {
            currentFilters.monthYear = document.getElementById('filterMonth').value;
            currentFilters.status = document.getElementById('filterStatus').value;

            filterData();
            closeFilterModal();
        }

        // ‡∏•‡πâ‡∏≤‡∏á‡∏ï‡∏±‡∏ß‡∏Å‡∏£‡∏≠‡∏á
        function clearFilter() {
            currentFilters = {
                monthYear: '',
                status: 'all'
            };

            document.getElementById('filterMonth').value = '';
            document.getElementById('filterStatus').value = 'all';

            filterData();
            closeFilterModal();
        }

        // Event Listeners ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Filter Modal
        document.getElementById('filterBtn').addEventListener('click', openFilterModal);
        document.getElementById('closeFilterModal').addEventListener('click', closeFilterModal);
        document.getElementById('applyFilterBtn').addEventListener('click', applyFilter);
        document.getElementById('clearFilterBtn').addEventListener('click', clearFilter);

        // ‡∏õ‡∏¥‡∏î modal ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ô‡∏≠‡∏Å modal
        document.getElementById('filterModal').addEventListener('click', (e) => {
            if (e.target.id === 'filterModal') {
                closeFilterModal();
            }
        });

        document.getElementById('searchInput').addEventListener('input', filterData);

        // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
        renderTable(parkingData);
    </script>
</body>

</html>